---
title: "NYC Citi Bike trips"
subtitle: "Communicating Data"
output:
  html_document:
    toc: true
    toc_float: true
    df_print: paged
date: "`r format(Sys.Date())`"
author: "Lesley Duff"
---
# Introduction

[*Citi Bike*](https://ride.citibikenyc.com/about) is the largest [bike share system](https://en.wikipedia.org/wiki/Bicycle-sharing_system) in the USA and consists of a fleet of bikes available to users at docking stations throughout New York City. Bikes can be returned to any other station. Citi Bike is available for use 24 hours/day, 7 days/week, 365 days/year.

This report uses a sample dataset from NYC Citi Bike usage of 10 bikes throughout 2018. The data includes event data on each trip, including the trip's start and end times and locations. 

```{r}
library(skimr)
library(tidyverse)
library(tsibbledata)
```

```{r}
# Explore dataset -----
# ?nyc_bikes comes from the tsibbledata package
nyc_bikes_df <- nyc_bikes

head(nyc_bikes_df)
glimpse(nyc_bikes_df)

skim(nyc_bikes_df)

# We have 4268 rows, 12 columns
# We have no NAs 
# Datetime columns: start_time, stop_time
# birth_year is numeric
# Mininmum Start date: 2018-01-01 21:19:01.611
# Maximum Start date: 2018-12-31 09:08:35.776

```

## Pattern of bike hires

```{r}
nyc_bikes_df <- nyc_bikes_df %>%
  mutate(
    hour_start_time = hour(start_time),
    minute_start_time = minute(start_time),
    day_start_time = day(start_time),
    month_start_time = month(start_time, label = TRUE, abbr = FALSE),
    hour_stop_time = hour(stop_time),
    minute_stop_time = minute(stop_time),
    day_stop_time = day(stop_time),
    month_stop_time = month(stop_time, label = TRUE, abbr = FALSE),

    .after = start_time
  )



nyc_bikes_df %>% 
  ggplot(aes(x = start_time)) +
 # geom_histogram(color = "white", 
  #               fill = "steelblue",
   #              bins = 4) +
  theme_minimal()
```


over time (e.g. within a year, month, week, or day)?

## Bike rider demographics

Do bike hire patterns differ between bike rider demographics? (e.g. gender, type of trip, age)
Any other insights?